{"version":3,"sources":["results/Result.module.css","saves/Saves.module.css","results/Results.module.css","search/Search.module.css","App.module.css","forms/Select.module.css","forms/TextInput.module.css","forms/Button.module.css","useLocalStorageJson.ts","icons/heart-fill.svg","icons/arrow-bar-right.svg","icons/x-circle.svg","icons/x-circle-fill.svg","saves/Saves.tsx","forms/Form.tsx","forms/TextInput.tsx","forms/Select.tsx","forms/Button.tsx","search/Search.tsx","icons/thumbs-up.svg","icons/star.svg","icons/heart.svg","results/Result.tsx","icons/loading.svg","results/Results.tsx","icons/camera.svg","icons/arrow-up.svg","App.tsx","index.tsx"],"names":["module","exports","safeStringify","obj","JSON","stringify","e","useLocalStorageJson","key","initialObjectValue","initialStringValue","useLocalStorage","stringValue","setStringValue","str","parse","safeParse","_extends","Object","assign","target","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","fillRule","d","_ref","svgRef","title","props","width","height","viewBox","fill","ref","ForwardRef","forwardRef","_ref3","_ref4","Saves","className","saves","remove","open","setOpen","classNames","styles","size","opener","onClick","sidebar","inner","titleIcon","closer","savesList","Array","from","values","map","save","id","photo","href","pageURL","img","src","previewURL","alt","toString","preventDefault","xIcon","xFilledIcon","Form","onSubmit","children","TextInput","value","onChange","placeholder","autofocus","type","textInput","autoFocus","Select","options","select","Boolean","option","Button","text","button","React","memo","initialQuery","query","useState","setQuery","category","setCategory","useEffect","form","fields","field","settings","categories","Result","result","tagClick","saved","toggleSave","heartIcon","heartFilledIcon","webformatURL","tags","imgBlur","style","backgroundImage","info","split","t","tag","toLocaleLowerCase","trim","selected","counts","count","countText","likes","favorites","loading","error","results","page","nextPage","loader","overlay","loadingIcon","element","setElement","lastElement","prevY","useRef","observer","IntersectionObserver","entries","y","boundingClientRect","current","threshold","observe","unobserve","msg","index","has","api","params","url","URL","apiEndpoint","search","URLSearchParams","reduce","newParams","undefined","removeEmpty","fetch","App","setPage","setLoading","setError","hits","setHits","max","setMax","showBackToTop","setShowBackToTop","runSearch","setRunSearch","savesOpen","setSavesOpen","totalPages","Math","floor","setSaves","savesMap","Map","showError","useCallback","backToTop","apiKey","q","escape","per_page","then","response","status","json","data","totalHits","statusText","catch","c","window","scrollTo","toggleBackToTop","throttle","scrollY","addEventListener","removeEventListener","addSave","hit","set","removeSave","delete","wrapper","logo","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.730d2a0a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"result\":\"Result_result__2eMHO\",\"photo\":\"Result_photo__OHeC9\",\"img\":\"Result_img__1Y_iU\",\"imgBlur\":\"Result_imgBlur__fmkd5\",\"save\":\"Result_save__3_12l\",\"heartIcon\":\"Result_heartIcon__AZgr0\",\"heartFilledIcon\":\"Result_heartFilledIcon__Aphbw\",\"saved\":\"Result_saved__hRCBb\",\"info\":\"Result_info__1fdME\",\"count\":\"Result_count__2QLpu\",\"tag\":\"Result_tag__3gnFY\",\"selected\":\"Result_selected__2JNAX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"opener\":\"Saves_opener__PLc0W\",\"sidebar\":\"Saves_sidebar__2JRoI\",\"saves\":\"Saves_saves__Ar4iK\",\"open\":\"Saves_open__3eaLP\",\"inner\":\"Saves_inner__3BICZ\",\"title\":\"Saves_title__1ZaMM\",\"titleIcon\":\"Saves_titleIcon__1Dbq7\",\"closer\":\"Saves_closer__1Lsl1\",\"savesList\":\"Saves_savesList__HiSVK\",\"save\":\"Saves_save__2aN7v\",\"photo\":\"Saves_photo__1qxqL\",\"remove\":\"Saves_remove__9sizr\",\"xIcon\":\"Saves_xIcon__136IF\",\"xFilledIcon\":\"Saves_xFilledIcon__2vHWQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loading\":\"Results_loading__3Ss7r\",\"loadingIcon\":\"Results_loadingIcon__1eqQu\",\"spin\":\"Results_spin__1HR4j\",\"overlay\":\"Results_overlay__2ivbg\",\"results\":\"Results_results__2ua7y\",\"msg\":\"Results_msg__AQu9D\",\"error\":\"Results_error__oDoX5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Search_form__1rvAu\",\"fields\":\"Search_fields__2HAKg\",\"field\":\"Search_field__2izxH\",\"button\":\"Search_button__3J-rR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"App_wrapper__2Rh_f\",\"logo\":\"App_logo__1ItuU\",\"backToTop\":\"App_backToTop__3h1dr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"select\":\"Select_select__xyrx-\",\"placeholder\":\"Select_placeholder__1akqu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textInput\":\"TextInput_textInput__3KTET\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2Y9BM\"};","import { Dispatch } from 'react';\nimport useLocalStorage from 'react-use-localstorage';\n\nconst safeStringify = (obj: object | undefined): string => {\n  try {\n    return JSON.stringify(obj);\n  } catch (e) {\n    return '';\n  }\n};\n\nconst safeParse = (str: string | undefined): object | undefined => {\n  try {\n    return str && JSON.parse(str);\n  } catch (e) { }\n};\n\nconst useLocalStorageJson = (key: string, initialObjectValue?: object): [object | undefined, Dispatch<object | undefined>] => {\n  const initialStringValue = safeStringify(initialObjectValue);\n  const [stringValue, setStringValue] = useLocalStorage(key, initialStringValue);\n  const jsonValue = safeParse(stringValue);\n  const setJsonValue = (obj: object | undefined) => setStringValue(safeStringify(obj));\n  return [jsonValue, setJsonValue];\n};\n\nexport default useLocalStorageJson;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z\"\n});\n\nvar SvgHeartFill = function SvgHeartFill(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    fill: \"currentColor\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgHeartFill, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/heart-fill.8fe369bc.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M10.146 4.646a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L12.793 8l-2.647-2.646a.5.5 0 0 1 0-.708z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M6 8a.5.5 0 0 1 .5-.5H13a.5.5 0 0 1 0 1H6.5A.5.5 0 0 1 6 8zm-2.5 6a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 1 0v11a.5.5 0 0 1-.5.5z\"\n});\n\nvar SvgArrowBarRight = function SvgArrowBarRight(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    fill: \"currentColor\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArrowBarRight, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow-bar-right.a6a1d7ce.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z\"\n});\n\nvar SvgXCircle = function SvgXCircle(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    fill: \"currentColor\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgXCircle, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/x-circle.30be9aed.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.146-3.146a.5.5 0 0 0-.708-.708L8 7.293 4.854 4.146a.5.5 0 1 0-.708.708L7.293 8l-3.147 3.146a.5.5 0 0 0 .708.708L8 8.707l3.146 3.147a.5.5 0 0 0 .708-.708L8.707 8l3.147-3.146z\"\n});\n\nvar SvgXCircleFill = function SvgXCircleFill(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    fill: \"currentColor\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgXCircleFill, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/x-circle-fill.b5afcf54.svg\";\nexport { ForwardRef as ReactComponent };","/* eslint-disable react/jsx-no-target-blank */\nimport React from 'react';\nimport classNames from 'classnames';\n\nimport { Save } from '../types';\nimport { ReactComponent as HeartFilledIcon } from '../icons/heart-fill.svg';\nimport { ReactComponent as CloseIcon } from '../icons/arrow-bar-right.svg';\nimport { ReactComponent as XIcon } from '../icons/x-circle.svg';\nimport { ReactComponent as XFilledIcon } from '../icons/x-circle-fill.svg';\n\nimport styles from './Saves.module.css';\n\ninterface Props {\n  className?: string,\n  saves: Map<number, Save>,\n  remove: (id: number) => void,\n  open: boolean,\n  setOpen: (o: boolean) => void\n}\n\nconst Saves = (props: Props) => {\n  const { className, saves, remove, open, setOpen } = props;\n  return (\n    <div className={classNames(styles.saves, { [styles.open]: open }, className)}>\n      {saves.size > 0 ?\n        <button className={styles.opener} onClick={() => setOpen(true)}>\n          <HeartFilledIcon />\n        </button>\n        : null}\n      <div className={styles.sidebar}>\n        <div className={styles.inner}>\n          <div className={styles.title} onClick={() => setOpen(false)}>\n            <HeartFilledIcon className={styles.titleIcon} />Saves\n          </div>\n          <button className={styles.closer} onClick={() => setOpen(false)}>\n            <CloseIcon />\n          </button>\n          <div className={styles.savesList}>\n            {Array.from(saves.values()).map(save => (\n              <div className={styles.save} key={save.id}>\n                <a className={styles.photo} href={save.pageURL} target=\"_blank\">\n                  <img className={styles.img} src={save.previewURL} alt={save.id.toString()} />\n                  <button className={styles.remove} onClick={e => { e.preventDefault(); remove(save.id); }}>\n                    <XIcon className={styles.xIcon} />\n                    <XFilledIcon className={styles.xFilledIcon} />\n                  </button>\n                </a>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Saves;","import React from 'react';\n\ninterface Props {\n  className?: string,\n  onSubmit: () => void,\n  children: React.ReactNode\n}\n\nconst Form = (props: Props) => {\n  const { className, onSubmit, children } = props;\n  return <form className={className} onSubmit={(e) => {\n    e.preventDefault();\n    onSubmit();\n  }}>\n    {children}\n  </form>;\n};\n\nexport default Form;","import React from 'react';\nimport classNames from 'classnames';\n\nimport styles from './TextInput.module.css';\n\ninterface Props {\n  className?: string,\n  value: string,\n  onChange: (value: string) => void,\n  placeholder?: string,\n  autofocus: boolean\n}\n\nconst TextInput = (props: Props) => {\n  const { className, value, onChange, placeholder, autofocus } = props;\n  return <input\n    type=\"text\"\n    className={classNames(styles.textInput, className)}\n    value={value}\n    onChange={e => onChange(e.target.value)}\n    placeholder={placeholder}\n    autoFocus={autofocus}\n  />;\n}\n\nexport default TextInput;","import React from 'react';\nimport classNames from 'classnames';\n\nimport styles from './Select.module.css';\n\ninterface Props {\n  className?: string,\n  options: string[],\n  value: string | undefined,\n  onChange: (value: string) => void,\n  placeholder?: string\n}\n\nconst Select = (props: Props) => {\n  const { className, options, value, onChange, placeholder } = props;\n  return options.length ?\n    <select\n      className={classNames(\n        styles.select,\n        className,\n        {\n          [styles.placeholder]: Boolean(placeholder && !value)\n        }\n      )}\n      onChange={e => onChange(e.target.value)}\n      value={value}\n    >\n      {placeholder ?\n        value ?\n          <option value=\"\">none</option>\n          :\n          <option value=\"\">{placeholder}</option>\n        : null}\n      {options.map((option: string) => (\n        <option value={option} key={option}>\n          {option}\n        </option>\n      ))}\n    </select>\n    : null;\n}\n\nexport default Select;","import React from 'react';\nimport classNames from 'classnames';\n\nimport styles from './Button.module.css';\n\ninterface Props {\n  className?: string,\n  text: string\n}\n\nconst Button = (props: Props) => {\n  const { className, text } = props;\n  return <button className={classNames(styles.button, className)}>{text}</button>;\n};\n\nexport default Button;","import React from 'react';\n\nimport settings from '../settings.json';\nimport Form from '../forms/Form';\nimport TextInput from '../forms/TextInput';\nimport Select from '../forms/Select';\nimport Button from '../forms/Button';\n\nimport styles from './Search.module.css'\n\ninterface Props {\n  query: string,\n  onSubmit: (query: string, category: string) => void\n}\n\nconst Search = (props: Props) => {\n  const { onSubmit, query: initialQuery } = props;\n\n  const [query, setQuery] = React.useState<string>(initialQuery);\n  const [category, setCategory] = React.useState<string>('');\n\n  React.useEffect(() => {\n    setQuery(initialQuery);\n  }, [initialQuery]);\n\n  return (\n    <Form className={styles.form} onSubmit={() => onSubmit(query, category)}>\n      <div className={styles.fields}>\n        <TextInput\n          className={styles.field}\n          value={query}\n          onChange={setQuery}\n          placeholder=\"keyword(s)\"\n          autofocus\n        />\n        <Select\n          className={styles.field}\n          options={settings.categories}\n          value={category}\n          onChange={setCategory}\n          placeholder=\"category\"\n        />\n      </div>\n      <Button className={styles.button} text=\"Search\" />\n    </Form>\n  );\n};\n\nexport default React.memo(Search);","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M6.956 1.745C7.021.81 7.908.087 8.864.325l.261.066c.463.116.874.456 1.012.965.22.816.533 2.511.062 4.51a9.84 9.84 0 0 1 .443-.051c.713-.065 1.669-.072 2.516.21.518.173.994.681 1.2 1.273.184.532.16 1.162-.234 1.733.058.119.103.242.138.363.077.27.113.567.113.856 0 .289-.036.586-.113.856-.039.135-.09.273-.16.404.169.387.107.819-.003 1.148a3.163 3.163 0 0 1-.488.901c.054.152.076.312.076.465 0 .305-.089.625-.253.912C13.1 15.522 12.437 16 11.5 16v-1c.563 0 .901-.272 1.066-.56a.865.865 0 0 0 .121-.416c0-.12-.035-.165-.04-.17l-.354-.354.353-.354c.202-.201.407-.511.505-.804.104-.312.043-.441-.005-.488l-.353-.354.353-.354c.043-.042.105-.14.154-.315.048-.167.075-.37.075-.581 0-.211-.027-.414-.075-.581-.05-.174-.111-.273-.154-.315L12.793 9l.353-.354c.353-.352.373-.713.267-1.02-.122-.35-.396-.593-.571-.652-.653-.217-1.447-.224-2.11-.164a8.907 8.907 0 0 0-1.094.171l-.014.003-.003.001a.5.5 0 0 1-.595-.643 8.34 8.34 0 0 0 .145-4.726c-.03-.111-.128-.215-.288-.255l-.262-.065c-.306-.077-.642.156-.667.518-.075 1.082-.239 2.15-.482 2.85-.174.502-.603 1.268-1.238 1.977-.637.712-1.519 1.41-2.614 1.708-.394.108-.62.396-.62.65v4.002c0 .26.22.515.553.55 1.293.137 1.936.53 2.491.868l.04.025c.27.164.495.296.776.393.277.095.63.163 1.14.163h3.5v1H8c-.605 0-1.07-.081-1.466-.218a4.82 4.82 0 0 1-.97-.484l-.048-.03c-.504-.307-.999-.609-2.068-.722C2.682 14.464 2 13.846 2 13V9c0-.85.685-1.432 1.357-1.615.849-.232 1.574-.787 2.132-1.41.56-.627.914-1.28 1.039-1.639.199-.575.356-1.539.428-2.59z\"\n});\n\nvar SvgThumbsUp = function SvgThumbsUp(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    fill: \"currentColor\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgThumbsUp, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/thumbs-up.4f6ccc90.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z\"\n});\n\nvar SvgStar = function SvgStar(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    fill: \"currentColor\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgStar, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/star.77fa956a.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M8 2.748l-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z\"\n});\n\nvar SvgHeart = function SvgHeart(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    fill: \"currentColor\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgHeart, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/heart.e345159c.svg\";\nexport { ForwardRef as ReactComponent };","/* eslint-disable react/jsx-no-target-blank */\nimport React from 'react';\nimport classNames from 'classnames';\n\nimport { Hit } from '../types';\nimport { ReactComponent as LikeIcon } from '../icons/thumbs-up.svg';\nimport { ReactComponent as FavoriteIcon } from '../icons/star.svg';\nimport { ReactComponent as HeartIcon } from '../icons/heart.svg';\nimport { ReactComponent as HeartFilledIcon } from '../icons/heart-fill.svg';\n\nimport styles from './Result.module.css';\n\ninterface Props {\n  result: Hit,\n  query?: string,\n  tagClick?: (kw: string) => void,\n  saved: boolean,\n  toggleSave: (hit: Hit) => void\n}\n\nconst Result = (props: Props) => {\n  const { result, query, tagClick, saved, toggleSave } = props;\n  return (\n    <div className={styles.result}>\n      <a className={styles.photo} href={result.pageURL} target=\"_blank\">\n        <button\n          className={classNames(\n            styles.save,\n            { [styles.saved]: saved }\n          )}\n          onClick={(e) => { e.preventDefault(); toggleSave(result); }}\n        >\n          <HeartIcon className={styles.heartIcon} />\n          <HeartFilledIcon className={styles.heartFilledIcon} />\n        </button>\n        <img className={styles.img} src={result.webformatURL} alt={result.tags} />\n        <span className={styles.imgBlur} style={{ backgroundImage: `url(${result.previewURL})` }}></span>\n      </a>\n      <div className={styles.info}>\n        <div className={styles.tags}>\n          {result.tags.split(',').map(t => {\n            const tag = t.toLocaleLowerCase().trim();\n            const selected = query?.toLocaleLowerCase().trim() === tag;\n            return (\n              <button\n                className={classNames(\n                  styles.tag,\n                  { [styles.selected]: selected }\n                )}\n                onClick={() => !selected && tagClick && tagClick(tag)}\n                key={tag}\n              >\n                {tag}\n              </button>\n            );\n          }\n          )}\n        </div>\n        <div className={styles.counts}>\n          <span className={styles.count}><span className={styles.countText}>{result.likes}</span> <LikeIcon /></span>\n          <span className={styles.count}><span className={styles.countText}>{result.favorites}</span> <FavoriteIcon /></span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Result;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M2.854 7.146a.5.5 0 0 0-.708 0l-2 2a.5.5 0 1 0 .708.708L2.5 8.207l1.646 1.647a.5.5 0 0 0 .708-.708l-2-2zm13-1a.5.5 0 0 0-.708 0L13.5 7.793l-1.646-1.647a.5.5 0 0 0-.708.708l2 2a.5.5 0 0 0 .708 0l2-2a.5.5 0 0 0 0-.708z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M8 3a4.995 4.995 0 0 0-4.192 2.273.5.5 0 0 1-.837-.546A6 6 0 0 1 14 8a.5.5 0 0 1-1.001 0 5 5 0 0 0-5-5zM2.5 7.5A.5.5 0 0 1 3 8a5 5 0 0 0 9.192 2.727.5.5 0 1 1 .837.546A6 6 0 0 1 2 8a.5.5 0 0 1 .501-.5z\"\n});\n\nvar SvgLoading = function SvgLoading(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    fill: \"currentColor\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLoading, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/loading.6aef534d.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport classNames from 'classnames';\n\nimport { Hit, Save } from '../types';\nimport Result from './Result';\nimport { ReactComponent as LoadingIcon } from '../icons/loading.svg';\n\nimport styles from './Results.module.css';\n\ninterface Props {\n  loading?: boolean,\n  error?: string,\n  results: Hit[] | null,\n  query?: string,\n  tagClick?: (kw: string) => void,\n  page: number,\n  nextPage: () => void,\n  saves: Map<number, Save>,\n  toggleSave: (hit: Hit) => void\n}\n\nconst Results = (props: Props) => {\n  const { loading, error, results, query, tagClick, page, nextPage, saves, toggleSave } = props;\n\n  const loader = (overlay: boolean) => <div className={classNames(styles.loading, { [styles.overlay]: overlay })}>\n    <span className={styles.loadingIcon}>\n      <LoadingIcon />\n    </span>\n  </div>;\n\n  // infinite scrolling\n  const [element, setElement] = React.useState<HTMLDivElement | null>(null);\n  const lastElement = element?.children[element?.children.length - 1];\n  const prevY = React.useRef(0);\n  React.useEffect(() => {\n    if (!loading) {\n      const observer = new IntersectionObserver(\n        entries => {\n          const y = entries[0].boundingClientRect.y;\n          const scrollingDown = prevY.current > entries[0].boundingClientRect.y;\n          if (scrollingDown) {\n            nextPage();\n          }\n          prevY.current = y;\n        },\n        { threshold: 0.1 }\n      );\n      if (lastElement) {\n        observer.observe(lastElement);\n      }\n      return () => {\n        // clean up\n        if (lastElement) {\n          observer.unobserve(lastElement);\n        }\n      };\n    }\n  }, [lastElement, loading, nextPage]);\n\n  return (<>\n    {error ? <div className={classNames(styles.msg, styles.error)}>{error}</div> : null}\n    <div className={styles.results} ref={setElement}>\n      {results && results.map((result: Hit, index: number) => (\n        <Result\n          key={`${index}-${result.id}`}\n          result={result}\n          query={query}\n          tagClick={tagClick}\n          saved={saves.has(result.id)}\n          toggleSave={toggleSave}\n        />\n      ))}\n      {results && !results.length ? <div className={styles.msg}>No Results Found</div> : null}\n      {loading && page === 1 ? loader(true) : null}\n    </div>\n    {loading && page !== 1 ? loader(false) : null}\n  </>);\n};\n\nexport default React.memo(Results);","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9 5C7.343 5 5 6.343 5 8a4 4 0 0 1 4-4v1z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M14.333 3h-2.015A5.97 5.97 0 0 0 9 2a5.972 5.972 0 0 0-3.318 1H1.667C.747 3 0 3.746 0 4.667v6.666C0 12.253.746 13 1.667 13h4.015c.95.632 2.091 1 3.318 1a5.973 5.973 0 0 0 3.318-1h2.015c.92 0 1.667-.746 1.667-1.667V4.667C16 3.747 15.254 3 14.333 3zM1.5 5a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1zM9 13A5 5 0 1 0 9 3a5 5 0 0 0 0 10z\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2 3a1 1 0 0 1 1-1h1a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1z\"\n});\n\nvar SvgCamera = function SvgCamera(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    fill: \"currentColor\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCamera, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/camera.8fb7f085.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M4.646 8.354a.5.5 0 0 0 .708 0L8 5.707l2.646 2.647a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 0 0 0 .708z\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  d: \"M8 11.5a.5.5 0 0 0 .5-.5V6a.5.5 0 0 0-1 0v5a.5.5 0 0 0 .5.5z\"\n});\n\nvar SvgArrowUp = function SvgArrowUp(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 16 16\",\n    fill: \"currentColor\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArrowUp, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow-up.7170313d.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport { throttle } from 'lodash';\n\nimport settings from './settings.json';\nimport { Hit, Save } from './types';\nimport useLocalStorageJson from './useLocalStorageJson';\nimport Saves from './saves/Saves';\nimport Search from './search/Search';\nimport Results from './results/Results';\nimport { ReactComponent as CameraIcon } from './icons/camera.svg';\nimport { ReactComponent as ArrowUpIcon } from './icons/arrow-up.svg';\n\nimport styles from './App.module.css';\n\ninterface Records extends Record<string, string> { }\n\ninterface ApiParams extends Record<string, string | undefined> {\n  key: string,\n  q: string,\n  category?: string,\n  page: string,\n  per_page: string\n}\n\nconst PER_PAGE = 20;\n\nconst removeEmpty = (params: ApiParams): Records => {\n  return Object.keys(params).reduce((newParams: Records, key: string) => {\n    if (params[key] !== undefined) {\n      newParams[key] = params[key] || ''\n    }\n    return newParams\n  }, {});\n};\n\nconst api = (params: ApiParams) => {\n  const url = new URL(settings.apiEndpoint);\n  url.search = new URLSearchParams(removeEmpty(params)).toString();\n  return fetch(url.toString());\n};\n\nconst App = () => {\n  const [query, setQuery] = React.useState<string>('');\n  const [category, setCategory] = React.useState<string>('');\n  const [page, setPage] = React.useState<number>(1);\n  const [loading, setLoading] = React.useState<boolean>(false);\n  const [error, setError] = React.useState<string>('');\n  const [hits, setHits] = React.useState<Hit[] | null>(null);\n  const [max, setMax] = React.useState<number>(0);\n  const [showBackToTop, setShowBackToTop] = React.useState<boolean>(false);\n  const [runSearch, setRunSearch] = React.useState<boolean>(false);\n  const [savesOpen, setSavesOpen] = React.useState<boolean>(false);\n\n  const totalPages = max && Math.floor(max / PER_PAGE);\n  const [saves, setSaves] = useLocalStorageJson('saves', []);\n  const savesMap: Map<number, Save> = saves instanceof Array ? new Map(saves.map((save: Save) => [save.id, save])) : new Map();\n\n  const showError = React.useCallback((error: string) => {\n    setLoading(false);\n    setError(error);\n    backToTop()\n  }, []);\n\n  const search = React.useCallback(() => {\n    setError('');\n    if (query) {\n      setLoading(true);\n      api({\n        key: settings.apiKey,\n        q: escape(query.trim()),\n        category,\n        page: page.toString(),\n        per_page: PER_PAGE.toString()\n      })\n        .then(response => {\n          if (response.status === 200) {\n            response.json().then(data => {\n              setLoading(false);\n              setHits(page > 1 && hits ? [...hits, ...data.hits] : data.hits);\n              setMax(data.totalHits);\n            });\n          } else {\n            showError(response.statusText);\n          }\n        }).catch(error => {\n          showError(error.toString());\n        });\n    } else {\n      setHits(null);\n      setMax(0);\n    }\n  }, [category, hits, page, query, showError]);\n\n  const onSubmit = React.useCallback((q: string, c: string) => {\n    setQuery(q);\n    setCategory(c);\n    setPage(1);\n    setMax(0);\n    setRunSearch(true);\n  }, []);\n\n  const tagClick = React.useCallback((q: string) => {\n    setQuery(q);\n    setPage(1);\n    setMax(0);\n    setRunSearch(true);\n    backToTop();\n  }, []);\n\n  const nextPage = React.useCallback(() => {\n    if (hits?.length && page < totalPages && !loading && !error) {\n      setLoading(true);\n      setPage(page + 1);\n      setRunSearch(true);\n    }\n  }, [error, hits, loading, page, totalPages]);\n\n  const backToTop = () => {\n    window.scrollTo(0, 0);\n  }\n\n  React.useEffect(() => {\n    const toggleBackToTop = throttle(() => setShowBackToTop(window.scrollY > 0), 500);\n    window.addEventListener('scroll', toggleBackToTop);\n    return () => {\n      window.removeEventListener('scroll', toggleBackToTop);\n    };\n  });\n\n  React.useEffect(() => {\n    if (runSearch) {\n      setRunSearch(false);\n      search();\n    }\n  }, [runSearch, search]);\n\n  const toggleSave = (hit: Hit) => {\n    if (savesMap.has(hit.id)) {\n      removeSave(hit.id);\n    } else {\n      addSave(hit);\n    }\n  };\n\n  const addSave = (hit: Hit) => {\n    const save: Save = {\n      id: hit.id,\n      pageURL: hit.pageURL,\n      previewURL: hit.previewURL\n    }\n    savesMap.set(save.id, save);\n    // always open the sidebar after saving a new photo\n    setSavesOpen(true);\n    setSaves(Array.from(savesMap.values()));\n  }\n\n  const removeSave = (id: number) => {\n    savesMap.delete(id);\n    if (savesMap.size === 0) {\n      // last save removed, close the saves sidebar\n      setSavesOpen(false);\n    }\n    setSaves(Array.from(savesMap.values()));\n  };\n\n  return (<>\n    <div className={styles.wrapper}>\n      <Saves saves={savesMap} remove={removeSave} open={savesOpen} setOpen={setSavesOpen} />\n      <div className={styles.logo}>\n        <a href=\"/\">\n          <CameraIcon />\n        </a>\n      </div>\n      <Search query={query} onSubmit={onSubmit} />\n      <Results\n        results={hits}\n        loading={loading}\n        error={error}\n        query={query}\n        tagClick={tagClick}\n        page={page}\n        nextPage={nextPage}\n        saves={savesMap}\n        toggleSave={toggleSave}\n      />\n    </div>\n    {showBackToTop ?\n      <button className={styles.backToTop} onClick={backToTop}>\n        <ArrowUpIcon className={styles.backToTop} onClick={backToTop} />\n      </button>\n      : null}\n  </>);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}